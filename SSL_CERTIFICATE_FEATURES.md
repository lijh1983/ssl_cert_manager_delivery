# SSL证书管理器核心功能说明

SSL证书管理器专注于提供专业的SSL证书管理和监控功能，移除了基础设施监控组件，突出核心业务价值。

## 🎯 核心业务功能

### 1. 主机域名监控
- **功能描述**: 实时监控证书绑定的域名状态
- **监控内容**: 域名解析状态、DNS配置、域名可达性
- **告警机制**: 域名解析失败、DNS配置错误提醒
- **使用场景**: 确保证书绑定的域名正常可访问

### 2. 证书等级检查
- **DV证书**: 域名验证型证书识别和管理
- **OV证书**: 组织验证型证书识别和管理
- **EV证书**: 扩展验证型证书识别和管理
- **功能特性**: 自动识别证书类型，提供相应的管理策略

### 3. 加密方式验证
- **RSA加密**: 支持RSA 2048/4096位密钥
- **ECC加密**: 支持椭圆曲线加密算法
- **加密强度**: 自动检测和评估加密强度
- **兼容性检查**: 验证加密方式的浏览器兼容性

### 4. 端口监控
- **HTTPS端口**: 443端口SSL证书状态监控
- **HTTP端口**: 80端口重定向配置检查
- **自定义端口**: 支持非标准端口的SSL证书监控
- **协议支持**: TLS 1.2/1.3协议版本检测

### 5. IP类型识别
- **IPv4支持**: IPv4地址的SSL证书绑定检查
- **IPv6支持**: IPv6地址的SSL证书绑定检查
- **双栈支持**: IPv4/IPv6双栈环境的证书配置
- **地址解析**: 自动解析域名对应的IP地址

### 6. IP地址监控
- **可达性检测**: 证书绑定IP地址的网络可达性
- **响应时间**: 监控SSL握手响应时间
- **地理位置**: IP地址地理位置信息
- **网络质量**: 网络连接质量评估

### 7. 证书状态跟踪
- **有效状态**: 证书当前有效性检查
- **过期状态**: 已过期证书的识别和处理
- **即将过期**: 临近过期证书的预警
- **撤销检查**: 证书撤销列表(CRL)状态检查

### 8. 有效期管理
- **剩余天数**: 精确计算证书剩余有效天数
- **到期提醒**: 多级到期提醒机制(30天、7天、1天)
- **自动续期**: 支持Let's Encrypt自动续期
- **续期策略**: 灵活的证书续期策略配置

### 9. 检测开关控制
- **启用/禁用**: 灵活控制特定证书的监控
- **监控频率**: 可配置的监控检查频率
- **告警开关**: 独立的告警通知开关
- **批量操作**: 支持批量启用/禁用监控

### 10. 备注信息管理
- **证书标签**: 自定义证书标签和分类
- **备注信息**: 详细的证书备注和说明
- **责任人**: 证书负责人和联系方式
- **业务关联**: 证书与业务系统的关联关系

### 11. 操作功能
- **证书检测**: 手动触发证书状态检测
- **证书编辑**: 修改证书配置和监控参数
- **证书删除**: 安全删除不需要的证书记录
- **批量导入**: 支持批量导入证书信息
- **数据导出**: 证书数据的导出和备份

## 🏗️ 系统架构

### 核心服务组件 (5个服务)

1. **MySQL 8.0.41** - 证书数据存储
   - 证书信息持久化存储
   - 监控历史数据记录
   - 用户权限和配置管理

2. **Redis** - 缓存和会话管理
   - 证书状态缓存
   - 用户会话管理
   - 监控任务队列

3. **Backend** - SSL证书管理API
   - RESTful API接口
   - 证书监控逻辑
   - 业务规则处理

4. **Frontend** - SSL证书管理Web界面
   - 直观的证书管理界面
   - 实时状态展示
   - 交互式操作面板

5. **Nginx** - 反向代理和SSL终止
   - HTTP/HTTPS请求代理
   - SSL证书终止
   - 静态资源服务

## 📊 监控和告警

### 内置监控功能
- **实时状态**: 证书状态实时监控和更新
- **历史记录**: 完整的证书状态变更历史
- **趋势分析**: 证书使用趋势和统计分析
- **性能指标**: 证书验证性能和响应时间

### 告警机制
- **邮件告警**: 证书到期和状态异常邮件通知
- **Web通知**: 系统内消息通知和提醒
- **API接口**: 第三方系统集成告警接口
- **告警级别**: 多级告警机制(信息、警告、严重)

## 🔧 API接口

### 核心API端点
```
GET  /api/certificates/status    # 获取证书状态
GET  /api/certificates/expiry    # 获取证书到期信息
POST /api/certificates/check     # 手动检测证书
PUT  /api/certificates/{id}      # 更新证书信息
DELETE /api/certificates/{id}    # 删除证书记录
```

### 监控API
```
GET  /api/monitoring/domains     # 域名监控状态
GET  /api/monitoring/ports       # 端口监控状态
GET  /api/monitoring/ips         # IP地址监控状态
POST /api/monitoring/toggle      # 切换监控状态
```

## 🚀 部署和使用

### 快速开始
```bash
# 1. 克隆项目
git clone https://github.com/lijh1983/ssl_cert_manager_delivery.git
cd ssl_cert_manager_delivery

# 2. 一键部署
./scripts/deploy-production.sh

# 3. 访问系统
# 前端页面: http://localhost/
# API接口: http://localhost/api/
# API文档: http://localhost/api/docs
```

### 核心功能验证
```bash
# 检查SSL证书状态
curl http://localhost/api/certificates/status

# 检查证书到期情况
curl http://localhost/api/certificates/expiry

# 查看系统健康状态
curl http://localhost/api/health
```

## 📈 优势特性

### 专业性
- **专注SSL证书管理**: 移除非核心功能，专注证书业务
- **专业监控**: 针对SSL证书特性的专业监控功能
- **行业标准**: 遵循SSL/TLS行业标准和最佳实践

### 简洁性
- **架构简化**: 5个核心服务，部署简单
- **配置简洁**: 最小化配置，开箱即用
- **维护简单**: 减少组件依赖，降低维护复杂度

### 可靠性
- **稳定运行**: 移除复杂监控组件，提高系统稳定性
- **数据安全**: MySQL 8.0.41数据持久化，Redis缓存加速
- **容错机制**: 完善的错误处理和恢复机制

### 扩展性
- **API优先**: 完整的RESTful API接口
- **模块化**: 松耦合的模块化设计
- **集成友好**: 易于与其他系统集成

---

**SSL证书管理器 - 专注SSL证书管理的专业解决方案**
